# Change: 添加网格放置规则系统

## Why

当前家具放置系统缺乏严格的放置规则验证，导致以下问题：
- 同一网格单元可能同时存在结构元素（墙、门、窗）和家具元素，造成视觉冲突
- 家具可以放置在房间外部，不符合真实场景逻辑
- 多格元素（桌子、床）在替换时可能产生部分残留，造成视觉错误
- 缺乏统一的元素替换机制，用户需要手动删除再放置

## What Changes

- 实现 GridPlacementEngine 作为核心放置规则引擎
- 添加网格单元独占性验证：每个网格单元只能包含一种元素类型
- 添加结构-家具互斥规则：结构元素和家具元素不能共存于同一网格单元
- 实现房间内部检测和家具放置限制：家具只能放置在房间内部
- 实现元素覆盖原则：新元素自动替换同位置的旧元素
- 实现多格元素原子化处理：替换多格元素时完整清除所有占用的网格单元
- 添加基于 fast-check 的属性测试框架，验证系统正确性

## Impact

- **受影响的规范**: furniture-placement（修改）、canvas-grid-system（修改）
- **受影响的代码**:
  - pages/design/index.js（集成新的放置引擎）
  - pages/design/utils/gridPlacementEngine.js（新建）
  - 相关测试文件（新建）
- **破坏性变更**: 无 - 新系统作为验证层添加，不改变现有数据结构
